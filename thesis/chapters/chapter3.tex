\section{Methods}
\subsubsection{Dataset preparation}




\begin{table}[!htbp]
\begin{tabular}{|l|l|l|l|l|l|l|}
\hline
\multicolumn{7}{|c|}{Results from MOE binary classification}                        \\ \hline
PCs  &       & 2c19  & 2c9   & 2d6   & 1a2   & 3a4   \\ \hline
2    & train & 0.585 & 0.621 & 0.589 & 0.638 & 0.644 \\ \hline
2    & test  & 0.593 & 0.609 & 0.590 & 0.632 & 0.627 \\ \hline
5    & train & 0.685 & 0.683 & 0.670 & 0.704 & 0.67  \\ \hline
5    & test  & 0.683 & 0.675 & 0.667 & 0.705 & 0.656 \\ \hline
10   & train & 0.699 & 0.699 & 0.685 & 0.734 & 0.698 \\ \hline
10   & test  & 0.691 & 0.682 & 0.662 & 0.746 & 0.677 \\ \hline
15   & train & 0.700 & 0.702 & 0.686 & 0.737 & 0.701 \\ \hline
15   & test  & 0.687 & 0.686 & 0.665 & 0.752 & 0.680 \\ \hline
20   & train & 0.705 & 0.710 & 0.704 & 0.741 & 0.705 \\ \hline
20   & test  & 0.699 & 0.685 & 0.683 & 0.748 & 0.686 \\ \hline
30   & train & 0.717 & 0.711 & 0.703 & 0.735 & 0.761 \\ \hline
30   & test  & 0.699 & 0.690 & 0.686 & 0.739 & 0.686 \\ \hline
44   & train & 0.708 & 0.712 & 0.690 & 0.725 & 0.698 \\ \hline
44pc & test  & 0.694 & 0.688 & 0.669 & 0.720 & 0.676 \\ \hline
\end{tabular}
\caption{Results from MOE binary classification}
\end{table}

\subsubsection{Modeling in Python}
\subsubsection{Toy Problem - $\kappa$NN on first 2 PCs}
I don't know if I want to include this section. It is a gentle intro ending with a fairly easy to grasp visualization before the dimensionality explodes. So I'll probably include it.

After downloading the 2c19 dataset, the training data is loaded into memory. A script was written to perform a PCA on the training data, then select the first two principle components and construct a classification model using the $\kappa$-nearest neighbor algorithm. The major benefit of this exercise was the ease of visualization of results. Subsequently the two principle components used in model construction are plotted and overlayed with the model predictions.

The steps in this process script are as follows; the training data is loaded into a dataframe and Activity Score is identified as the response variables. All 186 molecular descriptors are selected as the input variables and then individually scaled to a mean of $0$ and standard deviation of $1$. PCA is performed on the scaled and normed descriptors. The first two PCs are used to train a $\kappa$-NN model that treats any ActivityScore over 40 as an active. The $\kappa$-NN function automatically performs a five-fold cross-validation of the model and creates a model object, which can be used to evaluate similarly formated data, such as the test set.

Next the test set is loaded into a dataframe, the response variable identified, the descriptors scaled and normed, and subsequently evaluated by the model object. Accuracy in this case is calculated in the script, as well as a confusion matrix. These results are then plotted in the Ipython notebook with the principle components as axes, thpredicted values from the model are calculated for every point and overlayed with the model results.

